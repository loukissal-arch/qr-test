<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Entry Exit Camera</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  background: black;
  height: 100%;
  overflow: hidden;
  font-family: -apple-system, BlinkMacSystemFont, system-ui;
}

/* iPhone 16 Pro canvas */
#app {
  position: relative;
  width: 393px;
  height: 852px;
  margin: auto;
  background: black;
}

/* ---------- START MENU ---------- */
#menu {
  position: absolute;
  inset: 0;
  background: url("bg.jpeg") center / cover no-repeat;
  z-index: 1;
}

/* Invisible clickable areas */
.btn {
  position: absolute;
  cursor: pointer;
}

/* ENTRY button */
#entryBtn {
  top: 356px;
  left: 43px;
  width: 305px;
  height: 115px;
}

/* EXIT button */
#exitBtn {
  top: 487px;
  left: 43px;
  width: 306px;
  height: 118px;
}

/* ---------- CAMERA SCREEN ---------- */
#cameraScreen {
  position: absolute;
  inset: 0;
  display: none;
  z-index: 5;
}

/* Solid camera UI JPEG (BACKGROUND ONLY) */
#cameraUI {
  position: absolute;
  inset: 0;
  background: url("camera-ui.jpg") center / cover no-repeat;
  z-index: 1;
}

/* CAMERA VIDEO â€” ON TOP */
#video {
  position: absolute;
  top: 190px;     /* adjust if needed */
  left: 36px;     /* adjust if needed */
  width: 321px;   /* adjust if needed */
  height: 321px;  /* adjust if needed */
  object-fit: cover;
  z-index: 10;
  background: black;
}
</style>
</head>

<body>

<div id="app">

  <!-- START MENU -->
  <div id="menu">
    <div id="entryBtn" class="btn"></div>
    <div id="exitBtn" class="btn"></div>
  </div>

  <!-- CAMERA SCREEN -->
  <div id="cameraScreen">
    <div id="cameraUI"></div>
    <video id="video" muted autoplay playsinline></video>
  </div>

</div>

<script>
let stream = null;

/* START CAMERA */
async function openCamera(mode) {
  console.log("MODE:", mode);

  document.getElementById("menu").style.display = "none";
  document.getElementById("cameraScreen").style.display = "block";

  stream = await navigator.mediaDevices.getUserMedia({
    video: { facingMode: "user" }, // selfie camera
    audio: false
  });

  const video = document.getElementById("video");
  video.srcObject = stream;
  await video.play();
}

/* BUTTON HANDLERS */
document.getElementById("entryBtn").onclick = () => openCamera("entry");
document.getElementById("exitBtn").onclick  = () => openCamera("exit");
</script>

</body>
</html>
